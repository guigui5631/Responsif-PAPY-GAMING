/* =================================================================
   1. HEADER
================================================================= */

header {
    background: rgba(13, 11, 20, 0.6); /* Fond semi-transparent sombre */
    backdrop-filter: blur(12px); /* Flou derrière le header pour effet glassmorphism */
    position: fixed; top: 0; left: 0; width: 100%; /* Fixé en haut de la page, largeur totale */
    height: var(--header-height); /* Hauteur définie par une variable CSS */
    border-bottom: 1px solid var(--c-border); /* Ligne de séparation en bas */
    z-index: 1000; /* Priorité d'affichage élevée pour rester au-dessus du contenu */
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center; /* Alignement vertical centré */
    height: 100%; /* Prend toute la hauteur du header */
}


/* =================================================================
   2. BURGER (Câche le bouton pour mobile et met une taille)
================================================================= */

.mobile-menu-btn { 
    display: none; /* Caché par défaut (affiché en responsive) */
    cursor: pointer; /* Curseur pointeur */
    background: none; /* Pas de fond */
    border: none; /* Pas de bordure */
    color: var(--c-text-primary); /* Couleur du texte */
    padding: 0.5rem; /* Espacement interne */
}

.mobile-menu-btn .material-icons { 
    font-size: 2rem; /* Taille de l’icône du menu mobile */
}


/* =================================================================
   3. BRANDING (TITRE + LOGO)
================================================================= */

.header-branding { 
    display: flex; /* Logo + titre en ligne */
    align-items: center; /* Alignement vertical centré */
    gap: 1rem; /* Espacement entre logo et titre */
    text-decoration: none; /* Supprime le soulignement */
    color: var(--c-text-primary); /* Couleur principale du texte */
}

.header-branding img { 
    width: 2.25rem; /* Taille du logo */
}

.header-branding h1 { 
    font-size: 1.25rem; /* Taille du titre */
}

.nav-branding {
    position: absolute;
    top: 1.25rem;
    left: 1rem;
    right: 1rem;
    opacity: 0;
}

.nav-branding {
    position: absolute;
    top: 1.25rem;
    left: 1rem;
    right: 1rem;
    opacity: 0;
    display: inline-flex;
    align-items: center;
    padding-left: 1rem;
}

.nav-branding img {
    width: 3rem; /* taille de l’image */
    padding-right: 1rem;
}

.nav-branding h1 {
    font-size: 1.2rem; /* taille du texte */
    color: var(--c-text-primary); /* ou une couleur personnalisée */
}

/* =================================================================
   4. NAVIGATION - structure de base
================================================================= */

.header-nav > ul { 
    list-style: none; /* Supprime les puces */
    display: flex; /* Liens en ligne */
    align-items: center; /* Alignement vertical centré */
    gap: 2rem; /* Espace entre les items */
}

.header-nav a { 
    display: block; /* Chaque lien est un bloc cliquable */
    text-decoration: none; /* Supprime le soulignement */
    color: var(--c-text-a); /* Couleur secondaire du texte */
    font-weight: 500; /* Poids du texte moyen */
    transition: color 0.3s; /* Animation douce au changement de couleur */
    gap: 0rem;
}

.header-nav a:hover, .header-nav a.active { 
    color: var(--c-text-primary); /* Couleur principale au survol ou si actif */
}


/* =================================================================
   6. NAV-BAR - dropdown (positionnement & comportement)
================================================================= */

/* Conteneur du menu déroulant */
.header-nav .dropdown {
    position: relative; /* Nécessaire pour positionner le menu déroulant en absolu */
}

/* Le lien qui ouvre le menu déroulant */
.header-nav .dropdown > a {
    display: flex; /* Icône + texte en ligne */
    align-items: center; /* Alignement vertical centré */
    gap: 0.25rem; /* Petit espace entre texte et icône */
}

/* La classe 'dropdown-toggle' sera utilisée par JS pour le clic mobile */
.header-nav .dropdown a.dropdown-toggle {
    cursor: pointer; /* Curseur pointeur pour interaction */
}

/* Icône de flèche à côté du lien */
.header-nav .dropdown .dropdown-icon {
    font-size: 1.2rem; /* Taille de l’icône */
    transition: transform 0.3s ease; /* Animation douce pour rotation */
}

.header-nav .dropdown .dropdown-menu {
    position: absolute; /* Positionné par rapport au parent */
    top: 150%; /* Décalé vers le bas */
    left: 50%; /* Centré horizontalement */
    background: rgba(22, 21, 31, 0.85); /* Fond du menu */
    border: 1px solid var(--c-border); /* Bordure du menu */
    backdrop-filter: blur(10px); /* Effet flou */
    border-radius: 10px; /* Coins arrondis */
    padding: 0.5rem 0; /* Espacement vertical */
    list-style: none; /* Supprime les puces */
    min-width: 220px; /* Largeur minimale */
    z-index: 1001; /* Priorité au-dessus du header */

    /* Animation d’apparition */
    opacity: 0; /* Invisible par défaut */
    visibility: hidden; /* Caché par défaut */
    transform: translate(-50%, 10px); /* Décalage initial */
    transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease; /* Animation douce */

    /* Force l’affichage vertical */
    display: flex;
    flex-direction: column; /* Mise en colonne */
    align-items: flex-start; /* Alignement à gauche */
}


.header-nav .dropdown .dropdown-menu li {
    display: block; /* Chaque élément occupe toute la largeur */
    width: 100%; /* occupe 100% de la largeur de son parent (.dropdown-menu) */
}

.header-nav .dropdown .dropdown-menu a {
    padding: 0.75rem 1.5rem; /* Espacement interne */
    display: block; /* Lien en bloc */
    width: 100%; /* Prend toute la largeur */
    white-space: nowrap; /* Empêche le retour à la ligne */
}

/* Effet au survol des liens dans le menu déroulant */
.header-nav .dropdown .dropdown-menu a:hover {
    background-color: var(--c-accent-purple); /* Fond violet au survol */
    color: var(--c-text-primary); /* Texte principal au survol */
}

.header-nav .dropdown-menu a:hover, .header-nav a.active{
    border-radius: 10px; /* arrondi des Bords */ 
}

/* Affichage au survol sur desktop */
@media (min-width: 1024px) {
    .header-nav .dropdown:hover .dropdown-menu {
        opacity: 1;
        visibility: visible;
        transform: translate(-50%, 0);
    }
    .header-nav .dropdown:hover .dropdown-icon {
        transform: rotate(180deg);
    }
}


/* =================================================================
   4. CTA / bouton dashboard
================================================================= */

.button-dashboard {
    background: var(--gradient-primary); /* Fond en dégradé */
    color: #fff !important; /* Texte blanc forcé */
    padding: 0.7rem 1.5rem; /* Espacement interne */
    border-radius: 22.5px; /* Bouton arrondi */
    font-weight: 600; /* Texte en gras */
    transition: transform 0.3s, box-shadow 0.3s; /* Animation douce sur hover */
}

.button-dashboard:hover {
    transform: scale(1.05); /* Légère mise à l’échelle au survol */
    box-shadow: 0 0 20px var(--c-glow-purple); /* Effet lumineux violet */
}








/* ================================================================ */
/* ==============             RESPONSIF              ============== */
/* ================================================================ */


/* ============================= */
/* TABLETTE MOYENNE (≤ 1024px)   */
/* ============================= */
@media (max-width: 64rem) {

    /* ====== BOUTON MENU MOBILE ====== */
    .mobile-menu-btn {
        display: block;
        z-index: 1001;
    }

    .mobile-menu-btn .material-icons {
        transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    }

    .mobile-menu-btn.is-active .material-icons {
        transform: rotate(90deg);
    }

    /* ====== ÉTAT BODY AVEC MENU OUVERT ====== */
    body.menu-open {
        overflow: hidden;
    }

    body.menu-open main,
    body.menu-open footer {
        filter: blur(2px);
    }

    body.menu-open .header-branding {
        opacity: 1;
        transform: translateY(0px);
        transition: opacity 0.4s linear, transform 0.4s linear;
    }

    /* ====== MENU LATÉRAL MOBILE ====== */
    .header-nav {
        position: absolute;
        top: 0;
        right: 0;
        width: 400px;
        height: 100vh;
        opacity: 0;
        visibility: hidden;
        transform: translateX(20px);
        background: var(--c-bg);
        box-shadow: -5px 0 20px rgba(0, 0, 0, 0.2);
        border-left: 1px solid var(--c-border);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding-top: var(--header-height);
        transition: opacity 0.4s ease-out, transform 0.4s ease-out, visibility 0.4s ease-out, width 0.4s ease-out;
    }

    .header-nav.is-open {
        opacity: 1;
        visibility: visible;
        transform: translateX(0);
        position: fixed;
    }

    .header-nav ul {
        display: flex;
        flex-direction: column;
        padding-top: 1rem 0;
        gap: 0rem;
    }

    .header-nav li {
        text-align: center;
    }

    .header-nav .nav-home,
    .header-nav .dropdown .dropdown-toggle {
        outline: none;
        padding: 1rem;
        font-size: 1.2rem;
    }

    .header-nav .dropdown .dropdown-menu {
        position: static;
        transform: none;
        box-shadow: none;
        border: none;
        backdrop-filter: none;
        visibility: visible;
        opacity: 0;
        background-color: transparent;
        min-width: auto;
        width: 100%;
        padding: 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s linear, opacity 0.3s linear;
    }

    .header-nav .dropdown.is-open .dropdown-menu {
        opacity: 1;
        background-color: rgba(0, 0, 0, 0.2);
        padding: 0.75rem 0rem 0.75rem 0;
    }

    .header-nav .dropdown .dropdown-menu a {
        font-size: 1rem;
        color: var(--c-text-a);
        text-align: center;
    }

    .header-nav .dropdown .dropdown-icon.is-rotated {
        transform: rotate(180deg);
    }

    /* ====== NAV BRANDING (logo dans le menu) ====== */
    .header-nav.is-open .nav-branding {
        display: flex;
        opacity: 0;
        transform: translateY(-20px);
        transition: opacity 0.4s linear, transform 0.4s linear;
        font-size: 1rem;
    }

    /* ====== BOUTON DASHBOARD ====== */
    .button-dashboard {
        position: absolute;
        padding: 0.45rem;
        bottom: 2rem;
        left: 2.5rem;
        right: 2.5rem;
        margin: 0 auto;
        width: auto;
        transition: bottom 1s linear;
    }
}

/* ============================= */
/* MOBILE LARGE (≤ 680px)        */
/* ============================= */
@media (max-width: 42.5rem) {

    .header-nav {
        width: 375px;
    }

    .button-dashboard {
        bottom: 3rem;
    }

    .mobile-menu-btn {
        margin-left: auto;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .header-branding {
        opacity: 1;
        transform: translateY(0px);
        transition: opacity 0.4s linear, transform 0.4s linear;
        position: absolute;
    }

    body.menu-open .header-branding {
        opacity: 0;
        transform: translateY(-20px);
        pointer-events: none;
        transition: opacity 0.4s linear, transform 0.4s linear;
        position: absolute;
    }

    .header-nav.is-open .nav-branding {
        display: flex;
        opacity: 1;
        transform: translateY(0px);
        transition: opacity 0.4s linear, transform 0.4s linear;
        font-size: 1rem;
    }
}

/* ============================= */
/* MOBILE PETIT (≤ 400px)        */
/* ============================= */
@media (max-width: 25rem) {
    .header-nav {
        width: 350px;
    }
}

/* ============================= */
/* MOBILE TRÈS PETIT (≤ 320px)   */
/* ============================= */
@media (max-width: 20.35rem) {
    .header-nav {
        width: 320px;
    }
}
